<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Airline Route Map</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
  <style>
    #map { height: 100vh; width: 100%; }
    .hub-marker { background-color: yellow; border-radius: 50%; width: 16px; height: 16px; display: block; border: 2px solid #333; }
    .airport-marker { background-color: blue; border-radius: 50%; width: 12px; height: 12px; display: block; border: 2px solid #333; }
    .legend {
      position: absolute;
      bottom: 10px;
      left: 10px;
      background: white;
      padding: 10px;
      font-size: 14px;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>
  <div id="map"></div>
  <div class="legend">
    <strong>Legend</strong><br>
    <span style="background: yellow; display: inline-block; width: 12px; height: 12px; border-radius: 50%; border: 1px solid #333;"></span> Hubs<br>
    <span style="background: blue; display: inline-block; width: 12px; height: 12px; border-radius: 50%; border: 1px solid #333;"></span> Destinations
  </div>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.curve/leaflet.curve.js"></script>
  <script>
    const map = L.map('map').setView([40, -20], 3);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    const hubs = {
      'Dublin': { coords: [53.3498, -6.2603], icao: 'EIDW' },
      'Zurich': { coords: [47.4581, 8.5555], icao: 'LSZH' },
      'Orlando': { coords: [28.5383, -81.3792], icao: 'KMCO' },
      'Newark': { coords: [40.7357, -74.1724], icao: 'KEWR' }
    };

    const airports = {
      'Edinburgh': { coords: [55.9533, -3.1883], icao: 'EGPH', ac: 'B737-800 / A320' },
      'London': { coords: [51.5074, -0.1278], icao: 'EGLL', ac: 'B737-800 / A320' },
      'Paris': { coords: [48.8566, 2.3522], icao: 'LFPG', ac: 'B737-800 / A320' },
      'Munich': { coords: [48.1351, 11.5820], icao: 'EDDM', ac: 'B737-800 / A320' },
      'Frankfurt': { coords: [50.1109, 8.6821], icao: 'EDDF', ac: 'B737-800 / A320' },
      'Hamburg': { coords: [53.5511, 9.9937], icao: 'EDDH', ac: 'B737-800 / A320' },
      'Berlin': { coords: [52.5200, 13.4050], icao: 'EDDB', ac: 'B737-800 / A320' },
      'Nice': { coords: [43.7102, 7.2620], icao: 'LFMN', ac: 'B737-800 / A320' },
      'Madrid': { coords: [40.4168, -3.7038], icao: 'LEMD', ac: 'B737-800 / A320' },
      'Malaga': { coords: [36.7213, -4.4214], icao: 'LEMG', ac: 'B737-800 / A320' },
      'Faro': { coords: [37.0194, -7.9304], icao: 'LPFR', ac: 'B737-800 / A320' },
      'Lanzarote': { coords: [28.9489, -13.6130], icao: 'GCRR', ac: 'A320 / A321' },
      'Tenerife South': { coords: [28.0444, -16.5725], icao: 'GCTS', ac: 'A320 / A321' },
      'Rome': { coords: [41.9028, 12.4964], icao: 'LIRF', ac: 'B737-800 / A320' },
      'Copenhagen': { coords: [55.6761, 12.5683], icao: 'EKCH', ac: 'B737-800 / A320' },
      'Stockholm': { coords: [59.3293, 18.0686], icao: 'ESSA', ac: 'B737-800 / A320' },
      'Geneva': { coords: [46.2044, 6.1432], icao: 'LSGG', ac: 'B737-800 / A320' },
      'Oslo': { coords: [59.9139, 10.7522], icao: 'ENGM', ac: 'B737-800 / A320' },
      'Amsterdam': { coords: [52.3676, 4.9041], icao: 'EHAM', ac: 'B737-800 / A320' },
      'Brussels': { coords: [50.8503, 4.3517], icao: 'EBBR', ac: 'B737-800 / A320' },
      'Palma de Mallorca': { coords: [39.5696, 2.6502], icao: 'LEPA', ac: 'B737-800 / A320' },
      'Tokyo': { coords: [35.6764, 139.6500], icao: 'RJTT', ac: 'A350-900 / B787-9', note: 'Pacific route not via Atlantic' },
      'Cancun': { coords: [21.1619, -86.8515], icao: 'MMUN', ac: 'A321 / B737-800' },
      'Casablanca': { coords: [33.5731, -7.5898], icao: 'GMMN', ac: 'A350-900 / B787-9' },
      'Madeira': { coords: [32.6669, -16.9241], icao: 'LPMA', ac: 'A321' },
      'Mexico City': { coords: [19.4326, -99.1332], icao: 'MMMX', ac: 'A330-900neo / B787-9' }
    };

    const routes = [
      { from: 'Dublin', to: 'Edinburgh', color: 'red' },
      { from: 'Dublin', to: 'London', color: 'red' },
      { from: 'Dublin', to: 'Paris', color: 'red' },
      { from: 'Dublin', to: 'Munich', color: 'red' },
      { from: 'Dublin', to: 'Frankfurt', color: 'red' },
      { from: 'Dublin', to: 'Hamburg', color: 'red' },
      { from: 'Dublin', to: 'Berlin', color: 'red' },
      { from: 'Dublin', to: 'Nice', color: 'red' },
      { from: 'Dublin', to: 'Madrid', color: 'red' },
      { from: 'Dublin', to: 'Malaga', color: 'red' },
      { from: 'Dublin', to: 'Faro', color: 'red' },
      { from: 'Dublin', to: 'Lanzarote', color: 'red' },
      { from: 'Dublin', to: 'Tenerife South', color: 'red' },
      { from: 'Dublin', to: 'Rome', color: 'red' },
      { from: 'Dublin', to: 'Copenhagen', color: 'red' },
      { from: 'Dublin', to: 'Stockholm', color: 'red' },
      { from: 'Dublin', to: 'Zurich', color: 'red' },
      { from: 'Dublin', to: 'Geneva', color: 'red' },
      { from: 'Dublin', to: 'Oslo', color: 'red' },
      { from: 'Dublin', to: 'Amsterdam', color: 'red' },
      { from: 'Dublin', to: 'Brussels', color: 'red' },
      { from: 'Dublin', to: 'Palma de Mallorca', color: 'red' },
      { from: 'Orlando', to: 'Dublin', color: 'purple' },
      { from: 'Orlando', to: 'Cancun', color: 'green' },
      { from: 'Orlando', to: 'Casablanca', color: 'purple' },
      { from: 'Orlando', to: 'Paris', color: 'purple' },
      { from: 'Orlando', to: 'Zurich', color: 'purple' },
      { from: 'Newark', to: 'Dublin', color: 'purple' },
      { from: 'Newark', to: 'Zurich', color: 'purple' },
      { from: 'Newark', to: 'Casablanca', color: 'purple' },
      { from: 'Newark', to: 'Madeira', color: 'green' },
      { from: 'Seattle', to: 'Tokyo', color: 'purple', curved: true },
      { from: 'Seattle', to: 'Cancun', color: 'green' },
      { from: 'Seattle', to: 'Mexico City', color: 'green' }
    ];

    Object.entries(hubs).forEach(([name, info]) => {
      L.marker(info.coords, {
        icon: L.divIcon({ className: 'hub-marker' }),
        title: name
      }).addTo(map).bindPopup(`<b>${name} (Hub)</b><br>ICAO: ${info.icao}`);
    });

    Object.entries(airports).forEach(([name, info]) => {
      if (!hubs[name]) {
        L.marker(info.coords, {
          icon: L.divIcon({ className: 'airport-marker' }),
          title: name
        }).addTo(map).bindPopup(`<b>${name}</b><br>ICAO: ${info.icao}<br>Aircraft: ${info.ac}${info.note ? '<br>' + info.note : ''}`);
      }
    });

    routes.forEach(route => {
      const from = hubs[route.from]?.coords || airports[route.from]?.coords;
      const to = hubs[route.to]?.coords || airports[route.to]?.coords;
      if (route.curved) {
        const midLat = (from[0] + to[0]) / 2 + 30;
        const midLng = (from[1] + to[1]) / 2;
        const curvedCoords = ['M', from, 'Q', [midLat, midLng], to];
        L.curve(curvedCoords, { color: route.color, weight: 2 }).addTo(map);
      } else {
        L.polyline([from, to], { color: route.color, weight: 2 }).addTo(map);
      }
    });
  </script>
</body>
</html>
